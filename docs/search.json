[
  {
    "objectID": "exercise-27-28-csu.html",
    "href": "exercise-27-28-csu.html",
    "title": "Daily Exercise 27-28",
    "section": "",
    "text": "fc &lt;- getbb(\"Fort Collins, Colorado\")\n\nbbox_coords &lt;- c(fc[\"x\", \"min\"], fc[\"y\", \"min\"],\n                 fc[\"x\", \"max\"], fc[\"y\", \"min\"],\n                 fc[\"x\", \"max\"], fc[\"y\", \"max\"],\n                 fc[\"x\", \"min\"], fc[\"y\", \"max\"],\n                 fc[\"x\", \"min\"], fc[\"y\", \"min\"])\n\nfc_sf &lt;- st_as_sf(st_sfc(st_polygon(list(matrix(bbox_coords, ncol = 2, byrow = TRUE)))))"
  },
  {
    "objectID": "exercise-27-28-csu.html#load-and-process-spatial-data",
    "href": "exercise-27-28-csu.html#load-and-process-spatial-data",
    "title": "Daily Exercise 27-28",
    "section": "",
    "text": "fc &lt;- getbb(\"Fort Collins, Colorado\")\n\nbbox_coords &lt;- c(fc[\"x\", \"min\"], fc[\"y\", \"min\"],\n                 fc[\"x\", \"max\"], fc[\"y\", \"min\"],\n                 fc[\"x\", \"max\"], fc[\"y\", \"max\"],\n                 fc[\"x\", \"min\"], fc[\"y\", \"max\"],\n                 fc[\"x\", \"min\"], fc[\"y\", \"min\"])\n\nfc_sf &lt;- st_as_sf(st_sfc(st_polygon(list(matrix(bbox_coords, ncol = 2, byrow = TRUE)))))"
  },
  {
    "objectID": "exercise-27-28-csu.html#extract-river-data",
    "href": "exercise-27-28-csu.html#extract-river-data",
    "title": "Daily Exercise 27-28",
    "section": "Extract River Data",
    "text": "Extract River Data\n\nfoco_rivers &lt;- opq(st_bbox(fc_sf)) |&gt;\n  add_osm_feature(\"waterway\") |&gt;\n  osmdata_sf()\n\nSys.setenv(AWS_NO_SIGN_REQUEST = \"YES\") \ndem &lt;- rast('/vsis3/lynker-spatial/gridded-resources/dem.vrt')\n\npoudre &lt;- foco_rivers$osm_lines %&gt;%\n  filter(grepl(\"Cache la Poudre\", name, ignore.case = TRUE)) %&gt;%\n  st_transform(crs(dem)) %&gt;% \n  st_union() %&gt;%\n  st_as_sf()\nprint(poudre)\n\nSimple feature collection with 1 feature and 0 fields\nGeometry type: MULTILINESTRING\nDimension:     XY\nBounding box:  xmin: -823445.8 ymin: 1966756 xmax: -722478 ymax: 2008678\nProjected CRS: unnamed\n                               x\n1 MULTILINESTRING ((-798489 2..."
  },
  {
    "objectID": "exercise-27-28-csu.html#convert-river-data-to-points",
    "href": "exercise-27-28-csu.html#convert-river-data-to-points",
    "title": "Daily Exercise 27-28",
    "section": "Convert River Data to Points",
    "text": "Convert River Data to Points\n\npoudre_pts &lt;- st_cast(poudre, \"POINT\")\nprint(paste(\"Class of Poudre points:\", class(poudre_pts)))\n\n[1] \"Class of Poudre points: sf\"         \"Class of Poudre points: data.frame\"\n\npoudre_pts_vect &lt;- terra::vect(poudre_pts)\nprint(paste(\"Class of Poudre points (terra vector):\", class(poudre_pts_vect)))  \n\n[1] \"Class of Poudre points (terra vector): SpatVector\""
  },
  {
    "objectID": "exercise-27-28-csu.html#extract-elevation-values",
    "href": "exercise-27-28-csu.html#extract-elevation-values",
    "title": "Daily Exercise 27-28",
    "section": "Extract Elevation Values",
    "text": "Extract Elevation Values\n\nelev_vals &lt;- terra::extract(dem, poudre_pts_vect)\n\nprofile_data &lt;- bind_cols(poudre_pts, elev_vals) %&gt;%\n  mutate(ID = row_number())\n\nhead(profile_data)\n\nSimple feature collection with 6 features and 2 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -798489 ymin: 2005477 xmax: -798344.1 ymax: 2005532\nProjected CRS: unnamed\n  ID    dem                         x\n1  1 213686   POINT (-798489 2005477)\n2  2 213645 POINT (-798477.4 2005502)\n3  3 213750 POINT (-798452.7 2005523)\n4  4 213668 POINT (-798422.1 2005531)\n5  5 213599   POINT (-798384 2005532)\n6  6 213608 POINT (-798344.1 2005525)"
  },
  {
    "objectID": "exercise-27-28-csu.html#plot-elevation-profile",
    "href": "exercise-27-28-csu.html#plot-elevation-profile",
    "title": "Daily Exercise 27-28",
    "section": "Plot Elevation Profile",
    "text": "Plot Elevation Profile\n\nggplot(profile_data, aes(x = ID, y = dem)) +\n  geom_line(color = \"blue\") +\n  labs(title = \"Elevation Profile of Cache la Poudre River\",\n       x = \"Point ID\",\n       y = \"Elevation (m)\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nggplot(profile_data) +\n  geom_sf(aes(color = dem), size = 0.8) +\n  scale_color_viridis_c(name = \"Elevation (cm)\") +\n  labs(title = \"Cache la Poudre River with Elevation Gradient\") +\n  theme_minimal()"
  }
]